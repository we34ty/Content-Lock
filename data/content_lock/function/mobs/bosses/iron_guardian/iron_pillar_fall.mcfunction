execute if entity @s[scores={content_lock.attack_timer=0}] run scoreboard players add @s content_lock.boss_exhaustion 145
execute if entity @s[scores={content_lock.attack_timer=0}] run scoreboard players set @s content_lock.attack_timer 130
execute if entity @s[scores={content_lock.attack_timer=129}] run summon block_display ~ ~ ~ {Tags:[content_lock.iron_guardian_pillar_shaft],Passengers:[{id:"minecraft:block_display",block_state:{Name:"minecraft:raw_iron_block",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f],Tags:[content_lock.iron_guardian_pillar_block]},{id:"minecraft:block_display",block_state:{Name:"minecraft:raw_iron_block",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,1.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f],Tags:[content_lock.iron_guardian_pillar_block]},{id:"minecraft:block_display",block_state:{Name:"minecraft:raw_iron_block",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,2.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f],Tags:[content_lock.iron_guardian_pillar_block]},{id:"minecraft:block_display",block_state:{Name:"minecraft:raw_iron_block",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,3.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f],Tags:[content_lock.iron_guardian_pillar_block]},{id:"minecraft:block_display",block_state:{Name:"minecraft:raw_iron_block",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,4.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f],Tags:[content_lock.iron_guardian_pillar_block]}]}
execute if entity @s[scores={content_lock.attack_timer=129}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @p run spreadplayers ~ ~ 1 3 false @s
execute if entity @s[scores={content_lock.attack_timer=128}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s facing entity @p feet rotated ~ -90 run tp @s ~ ~ ~ ~ ~
execute if entity @s[scores={content_lock.attack_timer=127}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] store result entity @s Pos[1] double 1 run data get entity @p Pos[1]
execute if entity @s[scores={content_lock.attack_timer=127}] as @e[tag=content_lock.iron_guardian_pillar_block,limit=5,sort=nearest] store result entity @s Pos[1] double 1 run data get entity @p Pos[1]
execute if entity @s[scores={content_lock.attack_timer=128}] as @e[tag=content_lock.iron_guardian_pillar_block,limit=5,sort=nearest] at @s facing entity @p feet rotated ~180 0 run tp @s ~ ~ ~ ~ ~
execute if entity @s[scores={content_lock.attack_timer=127}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s run playsound entity.iron_golem.repair hostile @a ~ ~ ~ 1 1.3
execute if entity @s[scores={content_lock.attack_timer=87..110}] as @e[tag=content_lock.iron_guardian_pillar_block,limit=5,sort=nearest] at @s run tp @s ~ ~ ~ ~ ~-6
execute if entity @s[scores={content_lock.attack_timer=87..110}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s run tp @s ~ ~ ~ ~ ~6
execute if entity @s[scores={content_lock.attack_timer=87..110}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s run function content_lock:mobs/bosses/universal/damage_player_d {half_distance:0.5,distance:1,damage:4,damage_type:falling_block}
execute if entity @s[scores={content_lock.attack_timer=87..110}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s positioned ^ ^ ^1 run function content_lock:mobs/bosses/universal/damage_player_d {half_distance:0.5,distance:1,damage:8,damage_type:falling_block}
execute if entity @s[scores={content_lock.attack_timer=87..110}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s positioned ^ ^ ^2 run function content_lock:mobs/bosses/universal/damage_player_d {half_distance:0.5,distance:1,damage:8,damage_type:falling_block}
execute if entity @s[scores={content_lock.attack_timer=87..110}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s positioned ^ ^ ^3 run function content_lock:mobs/bosses/universal/damage_player_d {half_distance:0.5,distance:1,damage:8,damage_type:falling_block}
execute if entity @s[scores={content_lock.attack_timer=87..110}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s positioned ^ ^ ^4 run function content_lock:mobs/bosses/universal/damage_player_d {half_distance:0.5,distance:1,damage:8,damage_type:falling_block}
execute if entity @s[scores={content_lock.attack_timer=87..110}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s positioned ^ ^ ^5 run function content_lock:mobs/bosses/universal/damage_player_d {half_distance:0.5,distance:1,damage:8,damage_type:falling_block}
#execute if entity @s[scores={content_lock.attack_timer=87..110}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s positioned ^ ^ ^5 run particle dust 1 0 0 3 ~ ~ ~ 0 0 0 1 10 force @a

execute if entity @s[scores={content_lock.attack_timer=70}] run summon block_display ~ ~ ~ {Tags:[content_lock.iron_guardian_pillar_shaft],Passengers:[{id:"minecraft:block_display",block_state:{Name:"minecraft:raw_iron_block",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f],Tags:[content_lock.iron_guardian_pillar_block]},{id:"minecraft:block_display",block_state:{Name:"minecraft:raw_iron_block",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,1.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f],Tags:[content_lock.iron_guardian_pillar_block]},{id:"minecraft:block_display",block_state:{Name:"minecraft:raw_iron_block",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,2.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f],Tags:[content_lock.iron_guardian_pillar_block]},{id:"minecraft:block_display",block_state:{Name:"minecraft:raw_iron_block",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,3.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f],Tags:[content_lock.iron_guardian_pillar_block]},{id:"minecraft:block_display",block_state:{Name:"minecraft:raw_iron_block",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,4.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f],Tags:[content_lock.iron_guardian_pillar_block]}]}
execute if entity @s[scores={content_lock.attack_timer=70}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @p run spreadplayers ~ ~ 1 3 false @s
execute if entity @s[scores={content_lock.attack_timer=69}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s facing entity @p feet rotated ~ -90 run tp @s ~ ~ ~ ~ ~
execute if entity @s[scores={content_lock.attack_timer=68}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] store result entity @s Pos[1] double 1 run data get entity @p Pos[1]
execute if entity @s[scores={content_lock.attack_timer=68}] as @e[tag=content_lock.iron_guardian_pillar_block,limit=5,sort=nearest] store result entity @s Pos[1] double 1 run data get entity @p Pos[1]
execute if entity @s[scores={content_lock.attack_timer=69}] as @e[tag=content_lock.iron_guardian_pillar_block,limit=5,sort=nearest] at @s facing entity @p feet rotated ~180 0 run tp @s ~ ~ ~ ~ ~
execute if entity @s[scores={content_lock.attack_timer=68}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s run playsound entity.iron_golem.repair hostile @a ~ ~ ~ 1 1.3
execute if entity @s[scores={content_lock.attack_timer=27..50}] as @e[tag=content_lock.iron_guardian_pillar_block,limit=5,sort=nearest] at @s run tp @s ~ ~ ~ ~ ~-6
execute if entity @s[scores={content_lock.attack_timer=27..50}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s run tp @s ~ ~ ~ ~ ~6
execute if entity @s[scores={content_lock.attack_timer=27..50}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s run function content_lock:mobs/bosses/universal/damage_player_d {half_distance:0.5,distance:1,damage:4,damage_type:falling_block}
execute if entity @s[scores={content_lock.attack_timer=27..50}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s positioned ^ ^ ^1 run function content_lock:mobs/bosses/universal/damage_player_d {half_distance:0.5,distance:1,damage:8,damage_type:falling_block}
execute if entity @s[scores={content_lock.attack_timer=27..50}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s positioned ^ ^ ^2 run function content_lock:mobs/bosses/universal/damage_player_d {half_distance:0.5,distance:1,damage:8,damage_type:falling_block}
execute if entity @s[scores={content_lock.attack_timer=27..50}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s positioned ^ ^ ^3 run function content_lock:mobs/bosses/universal/damage_player_d {half_distance:0.5,distance:1,damage:8,damage_type:falling_block}
execute if entity @s[scores={content_lock.attack_timer=27..50}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s positioned ^ ^ ^4 run function content_lock:mobs/bosses/universal/damage_player_d {half_distance:0.5,distance:1,damage:8,damage_type:falling_block}
execute if entity @s[scores={content_lock.attack_timer=27..50}] as @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest] at @s positioned ^ ^ ^5 run function content_lock:mobs/bosses/universal/damage_player_d {half_distance:0.5,distance:1,damage:8,damage_type:falling_block}

execute if entity @s[scores={content_lock.attack_timer=53}] run kill @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest]
execute if entity @s[scores={content_lock.attack_timer=53}] run kill @e[tag=content_lock.iron_guardian_pillar_block,limit=5,sort=nearest]
execute if entity @s[scores={content_lock.attack_timer=27}] run kill @e[tag=content_lock.iron_guardian_pillar_block,limit=5,sort=nearest]
execute if entity @s[scores={content_lock.attack_timer=27}] run kill @e[tag=content_lock.iron_guardian_pillar_shaft,limit=1,sort=nearest]
execute if entity @s[scores={content_lock.attack_timer=27}] run tag @s remove content_lock.iron_guardian.iron_pillar_fall
